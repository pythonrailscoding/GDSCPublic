{% extends 'base.html' %}
{% load static %}
{% block title %}
    Password Reset
{% endblock %}
{% block content %}
{% if request.user.is_authenticated %}
    <div class="reset-container">
        <div class="reset-card">
            <h2 class="reset-title">RESET PASSWORD</h2>
            <p class="reset-warning">
                You are already authenticated...
            </p>
        </div>
    </div>
{% else %}
    <div class="reset-container">
        <div class="reset-card">
            <h2 class="reset-title">RESET PASSWORD</h2>
            <form action="" method="POST">
                {% csrf_token %}
                <div class="reset-input-group">
                    <span class="reset-input-icon">ðŸ“§</span>
                    {{ form.email }}
                </div>
                <button type="submit" id="s_b" class="reset-btn">
                    Get Password Reset Instructions
                </button>
            </form>
        </div>
    </div>
    <script src="{% static 'js/pass_reset.js' %}"></script>
{% endif %}

<style>

body {
    font-family: 'Segoe UI', sans-serif;
    background: #0b1020;
    color: #eee;
}

.reset-container {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
}

.reset-card {
    background: #12182b;
    padding: 2rem;
    border-radius: 16px;
    box-shadow: 0px 4px 20px rgba(0,0,0,0.6);
    width: 380px;
    text-align: center;
}

.reset-title {
    font-size: 1.6rem;
    margin-bottom: 1.2rem;
    color: #4ca3ff; /* Blue accent for reset */
}

.reset-warning {
    font-size: 0.95rem;
    color: #ccc;
    margin-top: 1rem;
}

/* Input group */
.reset-input-group {
    display: flex;
    align-items: center;
    margin-bottom: 1rem;
    border: 1px solid #333;
    border-radius: 12px;
    padding: 0.5rem 0.75rem;
    background: #2a2a2a;
    transition: border 0.3s ease;
}

.reset-input-group:focus-within {
    border-color: #4ca3ff;
}

.reset-input-icon {
    margin-right: 0.5rem;
    color: #4ca3ff;
    font-weight: bold;
}

/* Input field override */
/* use !important to override ->TIP */
.reset-input-group input {
    border: none !important;
    outline: none !important;
    flex: 1;
    padding: 0.5rem;
    background: transparent;
    font-size: 1rem;
    color: #eee;
}


.reset-btn {
    background: #4ca3ff;
    color: #fff;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 12px;
    font-size: 1rem;
    cursor: pointer;
    transition: background 0.3s ease, transform 0.2s ease;
    width: 100%;
    margin-top: 0.5rem;
}

.reset-btn:hover {
    background: #2f7ddb;
    transform: translateY(-2px);
}

/* Style placeholder text */
::placeholder {
    color: #aaa;
    opacity: 1;
}

/* For browser compatibility */
input::-webkit-input-placeholder {
    color: #aaa;
}
input:-ms-input-placeholder {
    color: #aaa;
}
input::-ms-input-placeholder {
    color: #aaa;
}

</style>
    <script>
    document.addEventListener("DOMContentLoaded", () => {
        const emailInput = document.getElementById("id_email");
        if (emailInput) {
            emailInput.setAttribute("placeholder", "Enter your registered Email...");
        }
    });
</script>

{% endblock %}
